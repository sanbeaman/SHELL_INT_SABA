package com.sanbeaman.shell.widget{	import com.greensock.*;	import com.greensock.easing.*;		import flash.display.*;	import flash.display.Sprite;	import flash.geom.Matrix;			public class PLoaderMiniAnim extends Sprite	{				private var _ballsarray:Array;				private var _back:Sprite;		private var _balls:Sprite;				private var _mask:Sprite;		private var _topballs:Sprite;		private var _plTL:TimelineMax;						private var _padding:Number = 10;						public function PLoaderMiniAnim()		{			super();			_ballsarray =  new Array("ball0","ball1","ball2","ball3","ball4");			_buildAnim();					}						private function _buildAnim():void		{			_back = _buildBalls("back");			this.addChild(_back);			_balls = new Sprite();						this.addChild(_balls);			_topballs = _buildBalls("top");					var mHeight:Number = _back.height;			var mWidth:Number = _back.width;						_mask = new Sprite();			_mask.graphics.beginFill(0x000000,1);			_mask.graphics.drawRect(0,0,mWidth,mHeight);			_mask.graphics.endFill();						_balls.addChild(_topballs);			_balls.addChild(_mask);			_balls.mask = _mask;						//_mask.scaleX = 0;			_mask.width = 1;						_plTL = new TimelineMax({repeat:-1});		//	_plTL.append(TweenLite.to(_mask, 3, {transformMatrix:{scaleX:1}}));			_plTL.append(TweenMax.to(_mask,4,{width:mWidth,ease:Linear.easeNone}));						}		private function stopAndRestPL():void		{			_plTL.gotoAndStop(0);		}		private function _buildBalls(type:String):Sprite		{			var sp:Sprite = new Sprite();						var startX:Number = 0;						for (var i:int = 0; i < _ballsarray.length; i++) {				if (type == 'back') {					var bb:Sprite = new PLBall_Back();					bb.x = startX;					sp.addChild(bb);					startX = bb.x + bb.width + _padding;				} else if (type == 'top') {					var bt:Sprite = new PLBall_Blue();					bt.x = startX;					sp.addChild(bt);					startX = bt.x + bt.width + _padding;				}			}						return sp;					}	}}